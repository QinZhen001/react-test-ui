var le=Object.defineProperty;var r=(i,l)=>le(i,"name",{value:l,configurable:!0});import{_ as ne,a as oe,b as ie,c as ae,d as se,e as fe,f as pe,g as he,h as I,i as de,j as ve}from"./CSSMotionList.b849e3a9.js";import{a as me,j as P,r as U,F as ye}from"./jsx-runtime.9ea27afa.js";import{_ as ge}from"./objectSpread2.b7682edd.js";import{a as _e,R as we}from"./index.6bf57154.js";import{c as K}from"./index.edba67db.js";import{_ as Ce}from"./objectWithoutPropertiesLoose.fce3821b.js";function G(){G=r(function(){return i},"_regeneratorRuntime");var i={},l=Object.prototype,v=l.hasOwnProperty,o=Object.defineProperty||function(n,e,t){n[e]=t.value},u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",y=u.toStringTag||"@@toStringTag";function h(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}r(h,"define");try{h({},"")}catch{h=r(function(t,a,s){return t[a]=s},"define")}function b(n,e,t,a){var s=e&&e.prototype instanceof g?e:g,c=Object.create(s.prototype),k=new V(a||[]);return o(c,"_invoke",{value:M(n,t,k)}),c}r(b,"wrap");function w(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(a){return{type:"throw",arg:a}}}r(w,"tryCatch"),i.wrap=b;var m={};function g(){}r(g,"Generator");function _(){}r(_,"GeneratorFunction");function p(){}r(p,"GeneratorFunctionPrototype");var N={};h(N,d,function(){return this});var T=Object.getPrototypeOf,L=T&&T(T(H([])));L&&L!==l&&v.call(L,d)&&(N=L);var C=p.prototype=g.prototype=Object.create(N);function R(n){["next","throw","return"].forEach(function(e){h(n,e,function(t){return this._invoke(e,t)})})}r(R,"defineIteratorMethods");function $(n,e){function t(s,c,k,S){var E=w(n[s],n,c);if(E.type!=="throw"){var A=E.arg,O=A.value;return O&&ne(O)=="object"&&v.call(O,"__await")?e.resolve(O.__await).then(function(j){t("next",j,k,S)},function(j){t("throw",j,k,S)}):e.resolve(O).then(function(j){A.value=j,k(A)},function(j){return t("throw",j,k,S)})}S(E.arg)}r(t,"invoke");var a;o(this,"_invoke",{value:r(function(c,k){function S(){return new e(function(E,A){t(c,k,E,A)})}return r(S,"callInvokeWithMethodAndArg"),a=a?a.then(S,S):S()},"value")})}r($,"AsyncIterator");function M(n,e,t){var a="suspendedStart";return function(s,c){if(a==="executing")throw new Error("Generator is already running");if(a==="completed"){if(s==="throw")throw c;return Q()}for(t.method=s,t.arg=c;;){var k=t.delegate;if(k){var S=x(k,t);if(S){if(S===m)continue;return S}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(a==="suspendedStart")throw a="completed",t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);a="executing";var E=w(n,e,t);if(E.type==="normal"){if(a=t.done?"completed":"suspendedYield",E.arg===m)continue;return{value:E.arg,done:t.done}}E.type==="throw"&&(a="completed",t.method="throw",t.arg=E.arg)}}}r(M,"makeInvokeMethod");function x(n,e){var t=n.iterator[e.method];if(t===void 0){if(e.delegate=null,e.method==="throw"){if(n.iterator.return&&(e.method="return",e.arg=void 0,x(n,e),e.method==="throw"))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=w(t,n.iterator,e.arg);if(a.type==="throw")return e.method="throw",e.arg=a.arg,e.delegate=null,m;var s=a.arg;return s?s.done?(e[n.resultName]=s.value,e.next=n.nextLoc,e.method!=="return"&&(e.method="next",e.arg=void 0),e.delegate=null,m):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}r(x,"maybeInvokeDelegate");function ue(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}r(ue,"pushTryEntry");function F(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}r(F,"resetTryEntry");function V(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(ue,this),this.reset(!0)}r(V,"Context");function H(n){if(n){var e=n[d];if(e)return e.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length)){var t=-1,a=r(function s(){for(;++t<n.length;)if(v.call(n,t))return s.value=n[t],s.done=!1,s;return s.value=void 0,s.done=!0,s},"next");return a.next=a}}return{next:Q}}r(H,"values");function Q(){return{value:void 0,done:!0}}return r(Q,"doneResult"),_.prototype=p,o(C,"constructor",{value:p,configurable:!0}),o(p,"constructor",{value:_,configurable:!0}),_.displayName=h(p,y,"GeneratorFunction"),i.isGeneratorFunction=function(n){var e=typeof n=="function"&&n.constructor;return!!e&&(e===_||(e.displayName||e.name)==="GeneratorFunction")},i.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,h(n,y,"GeneratorFunction")),n.prototype=Object.create(C),n},i.awrap=function(n){return{__await:n}},R($.prototype),h($.prototype,f,function(){return this}),i.AsyncIterator=$,i.async=function(n,e,t,a,s){s===void 0&&(s=Promise);var c=new $(b(n,e,t,a),s);return i.isGeneratorFunction(e)?c:c.next().then(function(k){return k.done?k.value:c.next()})},R(C),h(C,y,"Generator"),h(C,d,function(){return this}),h(C,"toString",function(){return"[object Generator]"}),i.keys=function(n){var e=Object(n),t=[];for(var a in e)t.push(a);return t.reverse(),r(function s(){for(;t.length;){var c=t.pop();if(c in e)return s.value=c,s.done=!1,s}return s.done=!0,s},"next")},i.values=H,V.prototype={constructor:V,reset:r(function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!e)for(var t in this)t.charAt(0)==="t"&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},"reset"),stop:r(function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},"stop"),dispatchException:r(function(e){if(this.done)throw e;var t=this;function a(A,O){return k.type="throw",k.arg=e,t.next=A,O&&(t.method="next",t.arg=void 0),!!O}r(a,"handle");for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s],k=c.completion;if(c.tryLoc==="root")return a("end");if(c.tryLoc<=this.prev){var S=v.call(c,"catchLoc"),E=v.call(c,"finallyLoc");if(S&&E){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(S){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!E)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},"dispatchException"),abrupt:r(function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.tryLoc<=this.prev&&v.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var c=s;break}}c&&(e==="break"||e==="continue")&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var k=c?c.completion:{};return k.type=e,k.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(k)},"abrupt"),complete:r(function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),m},"complete"),finish:r(function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),F(a),m}},"finish"),catch:r(function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var s=a.completion;if(s.type==="throw"){var c=s.arg;F(a)}return c}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:r(function(e,t,a){return this.delegate={iterator:H(e),resultName:t,nextLoc:a},this.method==="next"&&(this.arg=void 0),m},"delegateYield")},i}r(G,"_regeneratorRuntime");function X(i,l,v,o,u,d,f){try{var y=i[d](f),h=y.value}catch(b){v(b);return}y.done?l(h):Promise.resolve(h).then(o,u)}r(X,"asyncGeneratorStep");function ce(i){return function(){var l=this,v=arguments;return new Promise(function(o,u){var d=i.apply(l,v);function f(h){X(d,o,u,f,y,"next",h)}r(f,"_next");function y(h){X(d,o,u,f,y,"throw",h)}r(y,"_throw"),f(void 0)})}}r(ce,"_asyncToGenerator");var D=ge({},_e),be=D.version,ke=D.render,Ne=D.unmountComponentAtNode,B;try{var Te=Number((be||"").split(".")[0]);Te>=18&&(B=D.createRoot)}catch{}function Z(i){var l=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;l&&ne(l)==="object"&&(l.usingClientEntryPoint=i)}r(Z,"toggleWarning");var W="__rc_react_root__";function Le(i,l){Z(!0);var v=l[W]||B(l);Z(!1),v.render(i),l[W]=v}r(Le,"modernRender");function Se(i,l){ke(i,l)}r(Se,"legacyRender");function Ee(i,l){if(B){Le(i,l);return}Se(i,l)}r(Ee,"render");function Pe(i){return q.apply(this,arguments)}r(Pe,"modernUnmount");function q(){return q=ce(G().mark(r(function i(l){return G().wrap(r(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Promise.resolve().then(function(){var u;(u=l[W])===null||u===void 0||u.unmount(),delete l[W]}));case 1:case"end":return o.stop()}},"_callee$"),i)},"_callee"))),q.apply(this,arguments)}r(q,"_modernUnmount");function Oe(i){Ne(i)}r(Oe,"legacyUnmount");function Ie(i){return z.apply(this,arguments)}r(Ie,"unmount");function z(){return z=ce(G().mark(r(function i(l){return G().wrap(r(function(o){for(;;)switch(o.prev=o.next){case 0:if(B===void 0){o.next=2;break}return o.abrupt("return",Pe(l));case 2:Oe(l);case 3:case"end":return o.stop()}},"_callee2$"),i)},"_callee2"))),z.apply(this,arguments)}r(z,"_unmount");var J=function(i){oe(v,i);var l=ie(v);function v(){var o;ae(this,v);for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];return o=l.call.apply(l,[this].concat(d)),o.closeTimer=null,o.close=function(y){y&&y.stopPropagation(),o.clearCloseTimer();var h=o.props,b=h.onClose,w=h.noticeKey;b&&b(w)},o.startCloseTimer=function(){o.props.duration&&(o.closeTimer=window.setTimeout(function(){o.close()},o.props.duration*1e3))},o.clearCloseTimer=function(){o.closeTimer&&(clearTimeout(o.closeTimer),o.closeTimer=null)},o}return r(v,"Notice"),se(v,[{key:"componentDidMount",value:r(function(){this.startCloseTimer()},"componentDidMount")},{key:"componentDidUpdate",value:r(function(u){(this.props.duration!==u.duration||this.props.updateMark!==u.updateMark||this.props.visible!==u.visible&&this.props.visible)&&this.restartCloseTimer()},"componentDidUpdate")},{key:"componentWillUnmount",value:r(function(){this.clearCloseTimer()},"componentWillUnmount")},{key:"restartCloseTimer",value:r(function(){this.clearCloseTimer(),this.startCloseTimer()},"restartCloseTimer")},{key:"render",value:r(function(){var u=this,d=this.props,f=d.prefixCls,y=d.className,h=d.closable,b=d.closeIcon,w=d.style,m=d.onClick,g=d.children,_=d.holder,p="".concat(f,"-notice"),N=Object.keys(this.props).reduce(function(L,C){return(C.substr(0,5)==="data-"||C.substr(0,5)==="aria-"||C==="role")&&(L[C]=u.props[C]),L},{}),T=me("div",{className:K(p,y,Ce({},"".concat(p,"-closable"),h)),style:w,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:m,...N,children:[P("div",{className:"".concat(p,"-content"),children:g}),h?P("a",{tabIndex:0,onClick:this.close,className:"".concat(p,"-close"),children:b||P("span",{className:"".concat(p,"-close-x")})}):null]});return _?we.createPortal(T,_):T},"render")}]),v}(U.exports.Component);J.defaultProps={onClose:r(function(){},"onClose"),duration:1.5};function Re(i){if(Array.isArray(i))return fe(i)}r(Re,"_arrayWithoutHoles");function Me(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}r(Me,"_iterableToArray");function Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r(Ae,"_nonIterableSpread");function ee(i){return Re(i)||Me(i)||pe(i)||Ae()}r(ee,"_toConsumableArray");function je(i){var l=U.exports.useRef({}),v=U.exports.useState([]),o=he(v,2),u=o[0],d=o[1];function f(y){var h=!0;i.add(y,function(b,w){var m=w.key;if(b&&(!l.current[m]||h)){var g=P(J,{...w,holder:b});l.current[m]=g,d(function(_){var p=_.findIndex(function(T){return T.key===w.key});if(p===-1)return[].concat(ee(_),[g]);var N=ee(_);return N[p]=g,N})}h=!1})}return r(f,"notify"),[f,P(ye,{children:u})]}r(je,"useNotification");var $e=["getContainer"],te=0,xe=Date.now();function re(){var i=te;return te+=1,"rcNotification_".concat(xe,"_").concat(i)}r(re,"getUuid");var Y=function(i){oe(v,i);var l=ie(v);function v(){var o;ae(this,v);for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];return o=l.call.apply(l,[this].concat(d)),o.state={notices:[]},o.hookRefs=new Map,o.add=function(y,h){var b,w=(b=y.key)!==null&&b!==void 0?b:re(),m=I(I({},y),{},{key:w}),g=o.props.maxCount;o.setState(function(_){var p=_.notices,N=p.map(function(L){return L.notice.key}).indexOf(w),T=p.concat();return N!==-1?T.splice(N,1,{notice:m,holderCallback:h}):(g&&p.length>=g&&(m.key=T[0].notice.key,m.updateMark=re(),m.userPassKey=w,T.shift()),T.push({notice:m,holderCallback:h})),{notices:T}})},o.remove=function(y){o.setState(function(h){var b=h.notices;return{notices:b.filter(function(w){var m=w.notice,g=m.key,_=m.userPassKey,p=_!=null?_:g;return p!==y})}})},o.noticePropsMap={},o}return r(v,"Notification"),se(v,[{key:"getTransitionName",value:r(function(){var u=this.props,d=u.prefixCls,f=u.animation,y=this.props.transitionName;return!y&&f&&(y="".concat(d,"-").concat(f)),y},"getTransitionName")},{key:"render",value:r(function(){var u=this,d=this.state.notices,f=this.props,y=f.prefixCls,h=f.className,b=f.closeIcon,w=f.style,m=[];return d.forEach(function(g,_){var p=g.notice,N=g.holderCallback,T=_===d.length-1?p.updateMark:void 0,L=p.key,C=p.userPassKey,R=I(I(I({prefixCls:y,closeIcon:b},p),p.props),{},{key:L,noticeKey:C||L,updateMark:T,onClose:r(function(M){var x;u.remove(M),(x=p.onClose)===null||x===void 0||x.call(p)},"onClose"),onClick:p.onClick,children:p.content});m.push(L),u.noticePropsMap[L]={props:R,holderCallback:N}}),P("div",{className:K(y,h),style:w,children:P(de,{keys:m,motionName:this.getTransitionName(),onVisibleChanged:r(function(_,p){var N=p.key;_||delete u.noticePropsMap[N]},"onVisibleChanged"),children:function(g){var _=g.key,p=g.className,N=g.style,T=g.visible,L=u.noticePropsMap[_],C=L.props,R=L.holderCallback;return R?P("div",{className:K(p,"".concat(y,"-hook-holder")),style:I({},N),ref:r(function(M){typeof _>"u"||(M?(u.hookRefs.set(_,M),R(M,C)):u.hookRefs.delete(_))},"ref")},_):P(J,{...C,className:K(p,C==null?void 0:C.className),style:I(I({},N),C==null?void 0:C.style),visible:T})}})})},"render")}]),v}(U.exports.Component);Y.newInstance=void 0;Y.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}};Y.newInstance=r(function(l,v){var o=l||{},u=o.getContainer,d=ve(o,$e),f=document.createElement("div");if(u){var y=u();y.appendChild(f)}else document.body.appendChild(f);var h=!1;function b(w){h||(h=!0,v({notice:r(function(g){w.add(g)},"notice"),removeNotice:r(function(g){w.remove(g)},"removeNotice"),component:w,destroy:r(function(){Ie(f),f.parentNode&&f.parentNode.removeChild(f)},"destroy"),useNotification:r(function(){return je(w)},"useNotification$1")}))}r(b,"ref"),Ee(P(Y,{...d,ref:b}),f)},"newNotificationInstance");export{Y as N};
//# sourceMappingURL=Notification.fe7059c6.js.map
