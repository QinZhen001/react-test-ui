var b=Object.defineProperty;var d=(r,i)=>b(r,"name",{value:i,configurable:!0});import{R as a,j as c}from"./jsx-runtime.9ea27afa.js";import{C as L}from"./context.a6cee9de.js";import{c as C}from"./index.edba67db.js";const f=d(r=>{const[i,E]=a.useState(1),[q,h]=a.useState(!1),[m,p]=a.useState(!0);a.useRef(null);const y=a.useRef(null),{getPrefixCls:x}=a.useContext(L);a.useEffect(()=>{h(!0)},[]),a.useEffect(()=>{p(!0),E(1)},[r.src]);const V=d(()=>{const{onError:n}=r;(n?n():void 0)!==!1&&p(!1)},"handleImgLoadError"),{prefixCls:R,size:e="default",src:l,srcSet:N,icon:o,className:O,children:v,crossOrigin:A,...u}=r,g="circle",t=x("avatar",R),I=C({[`${t}-lg`]:e==="large",[`${t}-sm`]:e==="small"}),S=a.isValidElement(l),T=C(t,I,{[`${t}-${g}`]:!!g,[`${t}-image`]:S||l&&m,[`${t}-icon`]:!!o},O),$=typeof e=="number"?{width:e,height:e,lineHeight:`${e}px`,fontSize:o?e/2:18}:{};let s;if(typeof l=="string"&&m)s=c("img",{src:l,srcSet:N,onError:V,crossOrigin:A});else if(S)s=l;else if(o)s=o;else if(q||i!==1){const n=`scale(${i}) translateX(-50%)`,_={msTransform:n,WebkitTransform:n,transform:n},z=typeof e=="number"?{lineHeight:`${e}px`}:{};s=c("span",{className:`${t}-string`,ref:y,style:{...z,..._},children:v})}else s=c("span",{className:`${t}-string`,style:{opacity:0},ref:y,children:v});return delete u.onError,c("span",{...u,style:{...$,...u.style},className:T,children:s})},"Avatar");try{f.displayName="Avatar",f.__docgenInfo={description:"",displayName:"Avatar",props:{size:{defaultValue:null,description:"Shape of avatar, options: `circle`, `square`",name:"size",required:!1,type:{name:"any"}},src:{defaultValue:null,description:"Src of image avatar",name:"src",required:!1,type:{name:"ReactNode"}},srcSet:{defaultValue:null,description:"Srcset of image avatar",name:"srcSet",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"Icon to be used in avatar",name:"icon",required:!1,type:{name:"ReactNode"}},crossOrigin:{defaultValue:null,description:"",name:"crossOrigin",required:!1,type:{name:"enum",value:[{value:'""'},{value:'"anonymous"'},{value:'"use-credentials"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e?: MouseEvent<HTMLElement, MouseEvent>) => void)"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(() => boolean)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},prefixCls:{defaultValue:null,description:"",name:"prefixCls",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/avatar/avatar.tsx#Avatar"]={docgenInfo:f.__docgenInfo,name:"Avatar",path:"src/components/avatar/avatar.tsx#Avatar"})}catch{}try{avatar.displayName="avatar",avatar.__docgenInfo={description:"",displayName:"avatar",props:{size:{defaultValue:null,description:"Shape of avatar, options: `circle`, `square`",name:"size",required:!1,type:{name:"any"}},src:{defaultValue:null,description:"Src of image avatar",name:"src",required:!1,type:{name:"ReactNode"}},srcSet:{defaultValue:null,description:"Srcset of image avatar",name:"srcSet",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"Icon to be used in avatar",name:"icon",required:!1,type:{name:"ReactNode"}},crossOrigin:{defaultValue:null,description:"",name:"crossOrigin",required:!1,type:{name:"enum",value:[{value:'""'},{value:'"anonymous"'},{value:'"use-credentials"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e?: MouseEvent<HTMLElement, MouseEvent>) => void)"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(() => boolean)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},prefixCls:{defaultValue:null,description:"",name:"prefixCls",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/avatar/avatar.tsx#avatar"]={docgenInfo:avatar.__docgenInfo,name:"avatar",path:"src/components/avatar/avatar.tsx#avatar"})}catch{}export{f as A};
//# sourceMappingURL=avatar.3de334e3.js.map
