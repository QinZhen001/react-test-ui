{"version":3,"file":"contains.f61c9f30.js","sources":["../../node_modules/rc-util/node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/rc-util/node_modules/@babel/runtime/helpers/interopRequireWildcard.js","../../node_modules/rc-util/node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../src/components/_util/motion.tsx","../../node_modules/rc-util/es/hooks/useLayoutEffect.js","../../node_modules/rc-util/es/Dom/contains.js"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj[\"default\"] = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nmodule.exports = _interopRequireWildcard, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import type { CSSMotionProps, MotionEndEventHandler, MotionEventHandler } from 'rc-motion';\nimport type { MotionEvent } from 'rc-motion/lib/interface';\nimport { tuple } from './type';\n\n// ================== Collapse Motion ==================\nconst getCollapsedHeight: MotionEventHandler = () => ({ height: 0, opacity: 0 });\nconst getRealHeight: MotionEventHandler = (node) => {\n  const { scrollHeight } = node;\n  return { height: scrollHeight, opacity: 1 };\n};\nconst getCurrentHeight: MotionEventHandler = (node) => ({ height: node ? node.offsetHeight : 0 });\nconst skipOpacityTransition: MotionEndEventHandler = (_, event: MotionEvent) =>\n  event?.deadline === true || (event as TransitionEvent).propertyName === 'height';\n\nconst collapseMotion: CSSMotionProps = {\n  motionName: 'ant-motion-collapse',\n  onAppearStart: getCollapsedHeight,\n  onEnterStart: getCollapsedHeight,\n  onAppearActive: getRealHeight,\n  onEnterActive: getRealHeight,\n  onLeaveStart: getCurrentHeight,\n  onLeaveActive: getCollapsedHeight,\n  onAppearEnd: skipOpacityTransition,\n  onEnterEnd: skipOpacityTransition,\n  onLeaveEnd: skipOpacityTransition,\n  motionDeadline: 500,\n};\n\nconst SelectPlacements = tuple('bottomLeft', 'bottomRight', 'topLeft', 'topRight');\nexport type SelectCommonPlacement = typeof SelectPlacements[number];\n\nconst getTransitionDirection = (placement: SelectCommonPlacement | undefined) => {\n  if (placement !== undefined && (placement === 'topLeft' || placement === 'topRight')) {\n    return `slide-down`;\n  }\n  return `slide-up`;\n};\n\nconst getTransitionName = (rootPrefixCls: string, motion: string, transitionName?: string) => {\n  if (transitionName !== undefined) {\n    return transitionName;\n  }\n  return `${rootPrefixCls}-${motion}`;\n};\n\nexport { getTransitionName, getTransitionDirection };\nexport default collapseMotion;\n","import * as React from 'react';\nimport canUseDom from '../Dom/canUseDom';\n/**\n * Wrap `React.useLayoutEffect` which will not throw warning message in test env\n */\n\nvar useLayoutEffect = process.env.NODE_ENV !== 'test' && canUseDom() ? React.useLayoutEffect : React.useEffect;\nexport default useLayoutEffect;\nexport var useLayoutUpdateEffect = function useLayoutUpdateEffect(callback, deps) {\n  var firstMountRef = React.useRef(true);\n  useLayoutEffect(function () {\n    if (!firstMountRef.current) {\n      return callback();\n    }\n  }, deps); // We tell react that first mount has passed\n\n  useLayoutEffect(function () {\n    firstMountRef.current = false;\n    return function () {\n      firstMountRef.current = true;\n    };\n  }, []);\n};","export default function contains(root, n) {\n  if (!root) {\n    return false;\n  } // Use native if support\n\n\n  if (root.contains) {\n    return root.contains(n);\n  } // `document.contains` not support with IE11\n\n\n  var node = n;\n\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}"],"names":["_typeof","obj","module","__name","require$$0","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","_interopRequireWildcard","cache","newObj","hasPropertyDescriptor","key","desc","_interopRequireDefault","getTransitionDirection","placement","getTransitionName","rootPrefixCls","motion","transitionName","useLayoutEffect","canUseDom","React.useLayoutEffect","React.useEffect","contains","root","node"],"mappings":"4NAAA,SAASA,EAAQC,EAAK,CAGpB,OAAQC,EAAA,QAAiBF,EAAwB,OAAO,QAArB,YAA2C,OAAO,OAAO,UAA1B,SAAqC,SAAUC,EAAK,CACpH,OAAO,OAAOA,CACf,EAAG,SAAUA,EAAK,CACjB,OAAOA,GAAqB,OAAO,QAArB,YAA+BA,EAAI,cAAgB,QAAUA,IAAQ,OAAO,UAAY,SAAW,OAAOA,CACzH,EAAEC,EAA4B,QAAA,WAAA,GAAMA,EAAO,QAAQ,QAAaA,EAAO,QAAUF,EAAQC,CAAG,CAC9F,CARQE,EAAAH,EAAA,WASTE,EAAA,QAAiBF,EAASE,EAA4B,QAAA,WAAA,GAAMA,EAAO,QAAQ,QAAaA,EAAO,0BCT/F,IAAIF,EAAUI,UAAuB,QACrC,SAASC,EAAyBC,EAAa,CAC7C,GAAI,OAAO,SAAY,WAAY,OAAO,KAC1C,IAAIC,EAAoB,IAAI,QACxBC,EAAmB,IAAI,QAC3B,OAAQH,EAA2BF,EAAA,SAAkCG,EAAa,CAChF,OAAOA,EAAcE,EAAmBD,CACzC,EAFkC,6BAEhCD,CAAW,CACf,CAPQH,EAAAE,EAAA,4BAQT,SAASI,EAAwBR,EAAKK,EAAa,CACjD,GAAI,CAACA,GAAeL,GAAOA,EAAI,WAC7B,OAAOA,EAET,GAAIA,IAAQ,MAAQD,EAAQC,CAAG,IAAM,UAAY,OAAOA,GAAQ,WAC9D,MAAO,CACL,QAAWA,CACjB,EAEE,IAAIS,EAAQL,EAAyBC,CAAW,EAChD,GAAII,GAASA,EAAM,IAAIT,CAAG,EACxB,OAAOS,EAAM,IAAIT,CAAG,EAEtB,IAAIU,EAAS,CAAA,EACTC,EAAwB,OAAO,gBAAkB,OAAO,yBAC5D,QAASC,KAAOZ,EACd,GAAIY,IAAQ,WAAa,OAAO,UAAU,eAAe,KAAKZ,EAAKY,CAAG,EAAG,CACvE,IAAIC,EAAOF,EAAwB,OAAO,yBAAyBX,EAAKY,CAAG,EAAI,KAC3EC,IAASA,EAAK,KAAOA,EAAK,KAC5B,OAAO,eAAeH,EAAQE,EAAKC,CAAI,EAEvCH,EAAOE,GAAOZ,EAAIY,EAErB,CAEH,OAAAF,EAAO,QAAaV,EAChBS,GACFA,EAAM,IAAIT,EAAKU,CAAM,EAEhBA,CACR,CA9BQR,EAAAM,EAAA,2BA+BTP,EAAA,QAAiBO,EAAyBP,EAA4B,QAAA,WAAA,GAAMA,EAAO,QAAQ,QAAaA,EAAO,6CCxC/G,SAASa,EAAuBd,EAAK,CACnC,OAAOA,GAAOA,EAAI,WAAaA,EAAM,CACnC,QAAWA,CACf,CACC,CAJQE,EAAAY,EAAA,0BAKTb,EAAA,QAAiBa,EAAwBb,EAA4B,QAAA,WAAA,GAAMA,EAAO,QAAQ,QAAaA,EAAO,aC0B9G,MAAAc,EAAAb,EAAAc,GACEA,IAAA,SAAAA,IAAA,WAAAA,IAAA,YACE,aAEF,WAJF,0BAOAC,EAAAf,EAAA,CAAAgB,EAAAC,EAAAC,IACEA,IAAA,OACEA,EAEF,GAAAF,KAAAC,IAJF,qYChCG,IAACE,EAAqDC,EAAW,EAAGC,0BAAwBC,EAAAA,QAAAA,UCNhF,SAASC,EAASC,EAAM,EAAG,CACxC,GAAI,CAACA,EACH,MAAO,GAIT,GAAIA,EAAK,SACP,OAAOA,EAAK,SAAS,CAAC,EAMxB,QAFIC,EAAO,EAEJA,GAAM,CACX,GAAIA,IAASD,EACX,MAAO,GAGTC,EAAOA,EAAK,UACb,CAED,MAAO,EACT,CAtBwBzB,EAAAuB,EAAA"}